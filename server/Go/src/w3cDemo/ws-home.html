<html>
    <link href="css/speedometer.css" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap-grid.css" rel="stylesheet" type="text/css" />
    <script src="js/jquery-3.4.0.min.js"></script>
    <script src="js/speedometer.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.js"></script>
    
    <script src="js/w3c-client.js"></script>
    <script src="js/ws-w3c.js"></script>
    <script type="text/javascript">
        $(document).ready(
        function() {
			$("#ws-speedometer").addSpeedometer();
        });
		
        var client = new W3CWebSocket();
        client.setup();
		
		function startSpeedSubscription(){
            //client.subscribe("");
            client.requestGet("Vehicle.Cabin.Door.Row1.Right.IsOpen");
        }

        function stopSpeedSubscription(){
            // get id from somewhere
            //client.unsubscribe();
        }
              
    </script>
    <style>
        /* scroll to bottom of log */
        .list-group{
            max-height: 300px;
            margin-bottom: 10px;
            overflow:scroll;
        }
    </style>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="collapse navbar-collapse justify-content-center">
                <div class="navbar-nav">
                    <a class="nav-item nav-link" href="ws-home.html">WebSocket</a>
                    <a class="nav-item nav-link" href="rest-home.html">REST/Http</a>
                </div>
            </div>
        </nav>
        <div class="container">
			<div class="row">
			  <div class="col text-center">
					<h3>WebSocket W3c Example</h3>
			  </div>
			</div>
			<div class="row">
			  <div class="col text-center">
					<button type="button" class="btn" onclick="startSpeedSubscription();">Start Subscription</button>
                    <button type="button" class="btn" onclick="stopSpeedSubscription();">Stop Subscription</button>
			  </div>
			</div>
			<div class="row">
				<div class="col">
					<!-- add some other buttons and gauges here-->
				</div>
				<div class="col">
					<!-- sadly this simple speedometer only works by hooking into a input element, but we can hide it.-->
					<input id="ws-speedometer" type="hidden"/> 
				</div>
				<div class="col">
					<!-- add some other buttons and gauges here-->
				</div>
			</div>
			<div class="row" id="ws-log-content">
                <div class="col-6">
                    <h4>Requests</h4>
                    <ul class="list-group" id="ws-send-log-list">
                </div>
                <div class="col-6">
                    <h4>Responses</h4>
                    <ul class="list-group" id="ws-receive-log-list">
                </div>
            </div>
        </div>    
    </body>
</html>